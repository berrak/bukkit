#
# Project: <%= projectname %> 
# 
# HTML Makefile
#

QUIET = @

CP = /bin/cp
ECHO = /bin/echo
CHOWN = /bin/chown
TEST = /usr/bin/test

# the -f option suppress return status and prevents make to emit error
ERASE = /bin/rm -f

all: \
	dist

dist:
	$(QUIET) $(TEST) -f *.html && $(ECHO) [makefile]: Copy files to build directory
	$(QUIET) $(TEST) -f *.html && $(CP) *.html ../<%= builddirectory %>/.
	$(QUIET) $(TEST) -f ../<%= builddirectory %>/*.html && $(ECHO) [makefile]: Change ownership of HTML files 
	$(QUIET) $(TEST) -f ../<%= builddirectory %>/*.html && $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/*.html

install:
	$(QUIET) $(TEST) -f ../<%= builddirectory %>/*.html && $(ECHO) [makefile]: Install files to target directory <%= htmlinstallpath %>
	$(QUIET) $(TEST) -f ../<%= builddirectory %>/*.html && $(CP) ../<%= builddirectory %>/*.html <%= htmlinstallpath %>/.
	$(QUIET) $(TEST) -f <%= htmlinstallpath %>/*.html && $(ECHO) [makefile]: Change ownership of HTML files in <%= htmlinstallpath %>
	$(QUIET) $(TEST) -f <%= htmlinstallpath %>/*.html && $(CHOWN) <%= username %>:<%= groupname %> <%= htmlinstallpath %>/*.html

clean: \
	cleanall

cleanall:
	$(QUIET) $(ECHO) [makefile]: Remove html files in build directory
	$(QUIET) $(ERASE) ../<%= builddirectory %>/*.html

.PHONY: all dist install clean cleanall
